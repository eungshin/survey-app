<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>전문가 설문 시스템 - 환영합니다</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@100;200;300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/main.css">
</head>

<body>
  <div class="app-container" id="appContainer">

    <!-- ========== Page 1: Welcome ========== -->
    <section class="page-section" id="page-welcome">
      <div class="card welcome-card">
        <h1 class="welcome-title">전문가 설문에 참여해 주셔서 감사합니다.</h1>

        <p class="description">
          본 사이트에서는 제약사 및 의료 기관에서 요청한 전문가 대상 설문을 진행합니다. 설문 참여 전에 진행 중인 설문과 환자 케이스 등록 현황을 마이페이지에서 확인하실 수 있습니다.
        </p>

        <button class="btn btn-primary" onclick="showAuthModal()">설문 시작하기</button>

        <p class="notice">
          * 설문 도중 언제든지 임시저장 후 마이페이지에서 다시 이어서 작성하실 수 있습니다.
        </p>
      </div>

      <!-- Auth Modal -->
      <div class="modal-overlay" id="authModal">
        <div class="modal">
          <h2 class="modal-title">본인 인증</h2>

          <p class="modal-description">
            전문가 대상 설문 참여를 위해 본인 및 의사면허 인증이 필요합니다.<br>
            아래 정보를 입력해 주세요.
          </p>

          <form id="authForm" onsubmit="handleAuthSubmit(event)">
            <div class="form-group">
              <label for="residentNumber">주민등록 번호</label>
              <input type="text" id="residentNumber" placeholder="예 : 821010 - 1234567" class="form-input" required>
            </div>

            <div class="form-group">
              <label for="fullName">이름(실명)</label>
              <input type="text" id="fullName" placeholder="이름 입력" class="form-input" required>
            </div>

            <div class="form-group">
              <label for="phoneNumber">휴대폰번호</label>
              <input type="tel" id="phoneNumber" placeholder="숫자만 입력" class="form-input" required>
            </div>

            <button type="submit" class="btn btn-primary"
              style="margin-left: auto; display: block; margin-top: 40px;">다음</button>
          </form>
        </div>
      </div>
    </section>

  </div>

  <script>
    // Show Auth Modal
    function showAuthModal() {
      document.getElementById('authModal').classList.add('active');
    }

    // Close modal when clicking outside
    document.getElementById('authModal').addEventListener('click', function (e) {
      if (e.target === this) {
        this.classList.remove('active');
      }
    });

    // Handle Auth Form Submit
    function handleAuthSubmit(e) {
      e.preventDefault();

      const residentNumber = document.getElementById('residentNumber').value;
      const fullName = document.getElementById('fullName').value;
      const phoneNumber = document.getElementById('phoneNumber').value;

      if (!residentNumber || !fullName || !phoneNumber) {
        alert('모든 필드를 입력해주세요.');
        return;
      }

      // Save auth data to sessionStorage (mock persistence)
      sessionStorage.setItem('auth_residentNumber', residentNumber);
      sessionStorage.setItem('auth_fullName', fullName);
      sessionStorage.setItem('auth_phoneNumber', phoneNumber);

      // Redirect to next page
      location.href = 'pages/survey-intro.html';
    }
  </script>
</body>

</html>