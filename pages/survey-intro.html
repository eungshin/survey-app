<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전문가 설문 시스템 - 설문 안내</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Pretendard:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/main.css">
</head>

<body>
    <div class="app-container large" style="position: relative;">
        <!-- Global Header Icons -->
        <div class="global-header-icons">
            <button class="header-icon-btn" onclick="showMypageModal()">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <circle cx="16" cy="11" r="5" stroke="#666" stroke-width="2" />
                    <path d="M6 26C6 20.4772 10.4772 16 16 16C21.5228 16 26 20.4772 26 26" stroke="#666"
                        stroke-width="2" />
                </svg>
            </button>
            <button class="header-icon-btn" onclick="showExitModal()">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <path d="M8 8L24 24M8 24L24 8" stroke="#666" stroke-width="2" stroke-linecap="round" />
                </svg>
            </button>
        </div>

        <!-- MyPage Confirmation Modal -->
        <div class="modal-overlay" id="mypageModal">
            <div class="modal">
                <p class="modal-description" style="text-align: center; margin-bottom: 24px; font-size: 18px;">
                    설문 조사를 중단하고 마이페이지로 이동하시겠습니까?
                </p>
                <div class="modal-actions" style="display: flex; justify-content: center; gap: 12px;">
                    <button class="btn btn-outline-primary" style="min-width: 100px;" onclick="goToMypage()">예</button>
                    <button class="btn btn-outline-primary" style="min-width: 100px; border-color: #ccc; color: #666;"
                        onclick="closeMypageModal()">아니요</button>
                </div>
            </div>
        </div>

        <!-- Exit Confirmation Modal -->
        <div class="modal-overlay" id="exitModal">
            <div class="modal">
                <p class="modal-description" style="text-align: center; margin-bottom: 24px; font-size: 18px;">
                    설문을 끝내고 메타 세미나 공간으로 이동하시겠습니까?
                </p>
                <div class="modal-actions" style="display: flex; justify-content: center; gap: 12px;">
                    <button class="btn btn-outline-primary" style="min-width: 100px;" onclick="exitPage()">예</button>
                    <button class="btn btn-outline-primary" style="min-width: 100px; border-color: #ccc; color: #666;"
                        onclick="closeExitModal()">아니요</button>
                </div>
            </div>
        </div>

        <!-- ========== Page 2: Survey Intro ========== -->
        <section class="page-section">
            <div class="intro-section">
                <div class="card intro-card">
                    <h1 class="page-title">전문가 설문 안내</h1>

                    <p class="intro-text">
                        이곳에서는 의료 기관에서 요청한 전문가 대상 설문에 참여하실 수 있습니다.<br>
                        응답 문항은 약 20개 내외이며, 임상 현장의 실질적인 경험과 인사이트를 바탕으로<br>
                        심도 있게 구성되어 있습니다.<br><br>
                        귀한 시간을 내어 참여해 주시는 선생님께 감사드리며, 제공해 주신 의견은<br>
                        의료 발전에 소중히 활용됩니다.
                    </p>
                </div>

                <div class="card survey-list-card">
                    <h2 class="section-title">참여 가능 설문</h2>

                    <div class="survey-list">
                        <div class="survey-item">
                            <input type="radio" name="survey" id="survey1" value="1" checked>
                            <label for="survey1">녹십자 HCP 설문</label>
                        </div>

                        <div class="survey-item">
                            <input type="radio" name="survey" id="survey2" value="2">
                            <label for="survey2">녹십자 HCP 설문</label>
                        </div>

                        <div class="survey-item">
                            <input type="radio" name="survey" id="survey3" value="3">
                            <label for="survey3">녹십자 HCP 설문</label>
                        </div>

                        <div class="survey-item">
                            <input type="radio" name="survey" id="survey4" value="4">
                            <label for="survey4">녹십자 HCP 설문</label>
                        </div>
                    </div>

                    <button class="btn btn-primary btn-large" onclick="handleSurveyStart()">설문 참여하기</button>
                </div>
            </div>
        </section>

    </div>

    <script>
        function handleSurveyStart() {
            // Get selected survey
            const selectedSurvey = document.querySelector('input[name="survey"]:checked');
            if (selectedSurvey) {
                sessionStorage.setItem('selected_survey', selectedSurvey.value);
                location.href = 'survey-info-consent.html';
            } else {
                alert('참여할 설문을 선택해주세요.');
            }
        }

        // ========== Header Icon Modal Functions ==========
        function showMypageModal() {
            document.getElementById('mypageModal').classList.add('active');
        }
        function closeMypageModal() {
            document.getElementById('mypageModal').classList.remove('active');
        }
        function goToMypage() {
            location.href = 'mypage.html';
        }
        function showExitModal() {
            document.getElementById('exitModal').classList.add('active');
        }
        function closeExitModal() {
            document.getElementById('exitModal').classList.remove('active');
        }
        function exitPage() {
            window.open('', '_self', '');
            window.close();
            setTimeout(() => { location.href = 'index.html'; }, 100);
        }
    </script>
</body>

</html>